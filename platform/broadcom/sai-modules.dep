# Broadcom SAI modules
MPATH       := $($(BRCM_OPENNSL_KERNEL)_SRC_PATH)
DEP_FILES   := $(SONIC_COMMON_FILES_LIST) platform/broadcom/sai-modules.mk platform/broadcom/sai-modules.dep   
DEP_FILES   += $(SONIC_COMMON_BASE_FILES_LIST)
DEP_FILES   += $(shell git ls-files $(MPATH))

$(BRCM_OPENNSL_KERNEL)_CACHE_MODE  := GIT_CONTENT_SHA 
$(BRCM_OPENNSL_KERNEL)_DEP_FLAGS   := $(SONIC_COMMON_FLAGS_LIST)
$(BRCM_OPENNSL_KERNEL)_DEP_FILES   := $(DEP_FILES)

# SAI bcm modules for DNX family ASIC
MPATH_DNX   := $($(BRCM_DNX_OPENNSL_KERNEL)_SRC_PATH)
DEP_FILES   := $(SONIC_COMMON_FILES_LIST) platform/broadcom/sai-modules.mk platform/broadcom/sai-modules.dep   
DEP_FILES   += $(SONIC_COMMON_BASE_FILES_LIST)
SMDEP_FILES := $(addprefix $(MPATH_DNX)/,$(shell cd $(MPATH_DNX) && git ls-files))

$(BRCM_DNX_OPENNSL_KERNEL)_CACHE_MODE  := GIT_CONTENT_SHA 
$(BRCM_DNX_OPENNSL_KERNEL)_DEP_FLAGS   := $(SONIC_COMMON_FLAGS_LIST)
$(BRCM_DNX_OPENNSL_KERNEL)_DEP_FILES   := $(DEP_FILES)
$(BRCM_DNX_OPENNSL_KERNEL)_SMDEP_FILES := $(SMDEP_FILES)
$(BRCM_DNX_OPENNSL_KERNEL)_SMDEP_PATHS := $(MPATH_DNX)
